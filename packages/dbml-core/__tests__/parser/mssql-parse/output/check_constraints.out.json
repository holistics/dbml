{
  "tables": [
    {
      "name": "products",
      "fields": [
        {
          "name": "id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "price",
          "type": {
            "type_name": "decimal(10,4)"
          },
          "constraints": [
            {
              "expression": "[price] > 0"
            }
          ]
        },
        {
          "name": "quantity",
          "type": {
            "type_name": "int"
          },
          "constraints": [
            {
              "expression": "[quantity] >= 0"
            }
          ]
        },
        {
          "name": "discount",
          "type": {
            "type_name": "decimal(5,2)"
          },
          "constraints": [
            {
              "expression": "[discount] >= 0 AND [discount] <= 100"
            }
          ]
        },
        {
          "name": "status",
          "type": {
            "type_name": "varchar(20)"
          },
          "constraints": [
            {
              "expression": "[status] IN ('active', 'inactive', 'pending')"
            }
          ]
        }
      ]
    },
    {
      "name": "orders",
      "fields": [
        {
          "name": "order_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "order_date",
          "type": {
            "type_name": "datetime"
          }
        },
        {
          "name": "delivery_date",
          "type": {
            "type_name": "datetime"
          }
        },
        {
          "name": "total",
          "type": {
            "type_name": "decimal(10,2)"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[delivery_date] > [order_date]"
        },
        {
          "expression": "[total] >= 0"
        }
      ]
    },
    {
      "name": "employees",
      "fields": [
        {
          "name": "emp_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "age",
          "type": {
            "type_name": "int"
          }
        },
        {
          "name": "salary",
          "type": {
            "type_name": "decimal(10,2)"
          }
        },
        {
          "name": "email",
          "type": {
            "type_name": "varchar(100)"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[age] >= 18 AND [age] <= 65",
          "name": "chk_age"
        },
        {
          "expression": "[salary] > 0",
          "name": "chk_salary"
        }
      ]
    },
    {
      "name": "inventory",
      "fields": [
        {
          "name": "item_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "stock",
          "type": {
            "type_name": "int"
          },
          "constraints": [
            {
              "expression": "[stock] >= 0"
            },
            {
              "expression": "[stock] <= 10000"
            }
          ]
        }
      ]
    },
    {
      "name": "users",
      "fields": [
        {
          "name": "user_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "username",
          "type": {
            "type_name": "varchar(50)"
          }
        },
        {
          "name": "role",
          "type": {
            "type_name": "varchar(20)"
          },
          "constraints": [
            {
              "expression": "[role] NOT IN ('banned', 'suspended')"
            }
          ]
        }
      ]
    },
    {
      "name": "accounts",
      "fields": [
        {
          "name": "account_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "balance",
          "type": {
            "type_name": "decimal(15,2)"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[balance] >= 0",
          "name": "chk_balance_positive"
        },
        {
          "expression": "[balance] <= 1000000"
        }
      ]
    },
    {
      "name": "transactions",
      "fields": [
        {
          "name": "txn_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "amount",
          "type": {
            "type_name": "decimal(10,2)"
          }
        },
        {
          "name": "fee",
          "type": {
            "type_name": "decimal(10,2)"
          }
        },
        {
          "name": "type",
          "type": {
            "type_name": "varchar(20)"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[amount] + [fee] > 0"
        },
        {
          "expression": "[type] IN ('debit', 'credit')"
        }
      ]
    },
    {
      "name": "settings",
      "fields": [
        {
          "name": "setting_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "[value]",
          "type": {
            "type_name": "int"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[value] = 0 OR [value] = 1 OR [value] = -1"
        }
      ]
    },
    {
      "name": "contacts",
      "fields": [
        {
          "name": "contact_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "email",
          "type": {
            "type_name": "varchar(100)"
          },
          "constraints": [
            {
              "expression": "[email] LIKE '%@%.%'"
            }
          ]
        },
        {
          "name": "phone",
          "type": {
            "type_name": "varchar(20)"
          },
          "constraints": [
            {
              "expression": "[phone] LIKE '[0-9][0-9][0-9]-[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]'"
            }
          ]
        }
      ]
    },
    {
      "name": "ranges",
      "fields": [
        {
          "name": "range_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "min_val",
          "type": {
            "type_name": "int"
          }
        },
        {
          "name": "max_val",
          "type": {
            "type_name": "int"
          }
        }
      ],
      "constraints": [
        {
          "expression": "([min_val] >= 0) AND ([max_val] <= 100) AND ([min_val] < [max_val])"
        }
      ]
    },
    {
      "name": "shipments",
      "fields": [
        {
          "name": "shipment_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "priority",
          "type": {
            "type_name": "varchar(20)"
          }
        },
        {
          "name": "carrier",
          "type": {
            "type_name": "varchar(50)"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[priority] IN ('low', 'medium', 'high', 'urgent')"
        }
      ]
    },
    {
      "name": "workflow",
      "fields": [
        {
          "name": "workflow_id",
          "type": {
            "type_name": "int"
          },
          "pk": true
        },
        {
          "name": "status",
          "type": {
            "type_name": "varchar(20)"
          }
        },
        {
          "name": "category",
          "type": {
            "type_name": "varchar(50)"
          }
        }
      ],
      "constraints": [
        {
          "expression": "[status] IN ('draft', 'pending') AND [status] IN ('active', 'inactive')"
        }
      ]
    }
  ]
}